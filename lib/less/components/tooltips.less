//
//  DIALTONE
//  COMPONENTS: BUTTONS
//
//  These are button classes for Dialpad's design system Dialtone.
//  For further documentation of these and other classes,
//  visit https://dialpad.design/components/buttons
//
//  TABLE OF CONTENTS
//  • VARIABLES
//  • BASE STYLE
//  • ALTERNATE STYLES
//  • ARROW DIRECTIONS
//    - BOTTOM CENTER
//    - LEFT CENTER
//
//  ============================================================================
//  $   TOKENS
//  ----------------------------------------------------------------------------
@tooltip-background:            fade(@slate,97%);
@tooltip-color:                 @ash;
@tooltip-background--inverted:  fade(@ash,97%);
@tooltip-color--inverted:       @color--medium;

//  ============================================================================
//  $   MIXINS
//  ============================================================================
//  --  If the button doesn't have a d-btn class, you will need to re-apply the
//      hover state within your CSS. This hover mixin allows you to easily do so.
//  ----------------------------------------------------------------------------
.tooltip-hover() {
    transform: translate(0,0);
    opacity: 1;
    visibility: visible;
    transition:
        visibility 0s 0s,
        transform 200ms @transition--cubic-inOut 10ms,
        opacity 200ms @transition--cubic-inOut 10ms;
}

//  ============================================================================
//  $   BASE STYLE
//  ----------------------------------------------------------------------------
.d-tooltip {
    position: absolute;
    padding: @spacing12;
    width: 100%;
    max-width: @fixed-size2;
    z-index: @z-index--tooltip;

    border-radius: @border-radius--sm;
    background-color: @tooltip-background;
    color: @tooltip-color;
    font-size: @text--xs;
    line-height: @line-height--md;

    opacity: 0;
    visibility: hidden;
    transition:
        visibility 0s 200ms,
        transform 200ms @transition--cubic-inOut 0s,
        opacity 200ms @transition--cubic-inOut 0s;

    &:before {
        content: "";
        position: absolute;
        border-width: @spacing6;
        border-color: transparent;
        border-style: solid;
    }

    //  For now all tooltips are shown in conjunction with a button,
    //  so show the tooltip on a button hover.
    &.is-visible,
    .d-btn:hover & {
        .tooltip-hover();
    }
}


//  ============================================================================
//  $   ALTERNATE STYLES
//  ============================================================================
//  $$  INVERTED (WHITE BACKGROUND)
//  ----------------------------------------------------------------------------
.d-tooltip--inverted {
    background-color: @tooltip-background--inverted;
    color: @tooltip-color--inverted;

    //  $$  ARROW DIRECTION UPDATES
    //  ========================================================================
    //  --  TOP
    //  ------------------------------------------------------------------------
    &.d-tooltip--top-left:before,
    &.d-tooltip--top-center:before,
    &.d-tooltip--top-right:before {
        border-bottom-color: @tooltip-background--inverted;
    }

    //  --  RIGHT
    //  ------------------------------------------------------------------------
    &.d-tooltip--right-top:before,
    &.d-tooltip--right-center:before,
    &.d-tooltip--right-bottom:before {
        border-left-color: @tooltip-background--inverted;
    }

    //  --  BOTTOM
    //  ------------------------------------------------------------------------
    &.d-tooltip--bottom-left:before,
    &.d-tooltip--bottom-center:before,
    &.d-tooltip--bottom-right:before {
        border-top-color: @tooltip-background--inverted;
    }

    //  --  LEFT
    //  ------------------------------------------------------------------------
    &.d-tooltip--left-top:before,
    &.d-tooltip--left-center:before,
    &.d-tooltip--left-bottom:before {
        border-right-color: @tooltip-background--inverted;
    }
}

//  ============================================================================
//  $   ARROW DIRECTIONS
//  ============================================================================
//  $$  TOP
//  ----------------------------------------------------------------------------
.d-tooltip--top-left,
.d-tooltip--top-center,
.d-tooltip--top-right {
    top: calc(~"100% + @{spacing12}");
    transform: translateY(@spacing16);

    &:before {
        top: -@spacing6;
        border-top-width: 0;
        border-bottom-color: @tooltip-background;
    }
}

//  $$  BOTTOM
//  ----------------------------------------------------------------------------
.d-tooltip--bottom-left,
.d-tooltip--bottom-center,
.d-tooltip--bottom-right {
    bottom: calc(~"100% + @{spacing12}");
    transform: translateY(-@spacing16);

    &:before {
        bottom: -@spacing6;
        border-bottom-width: 0;
        border-top-color: @tooltip-background;
    }
}

//  --  TOP & BOTTOM LEFT
.d-tooltip--top-left,
.d-tooltip--bottom-left {
    left: -@spacing1;

    &:before {
        left: @spacing8;
    }
}

//  --  TOP & BOTTOM CENTER
.d-tooltip--top-center,
.d-tooltip--bottom-center {
    &:before {
        left: 50%;
        margin-left: -@spacing6;
    }
}

//  --  TOP & BOTTOM RIGHT
.d-tooltip--top-right,
.d-tooltip--bottom-right {
    right: -@spacing1;

    &:before {
        right: @spacing8;
    }
}


//  $$  RIGHT
//  ----------------------------------------------------------------------------
.d-tooltip--right-top,
.d-tooltip--right-center,
.d-tooltip--right-bottom {
    right: calc(~"100% + @{spacing12}");
    transform: translateX(-@spacing16);

    &:before {
        right: -@spacing6;
        border-right-width: 0;
        border-left-color: @tooltip-background;
    }
}

//  $$  LEFT
//  ----------------------------------------------------------------------------
.d-tooltip--left-top,
.d-tooltip--left-center,
.d-tooltip--left-bottom {
    left: calc(~"100% + @{spacing12}");
    transform: translateX(@spacing16);

    &:before {
        left: -@spacing6;
        border-left-width: 0;
        border-right-color: @tooltip-background;
    }
}

//  --  RIGHT & LEFT TOP
.d-tooltip--right-top,
.d-tooltip--left-top {
    top: -@spacing1;

    &:before {
        top: @spacing8;
    }
}

//  --  RIGHT & LEFT CENTER
.d-tooltip--right-center,
.d-tooltip--left-center {
    &:before {
        top: 50%;
        margin-top: -@spacing6;
    }
}

//  --  RIGHT & LEFT BOTTOM
.d-tooltip--right-bottom,
.d-tooltip--left-bottom {
    bottom: -@spacing1;

    &:before {
        bottom: @spacing8;
    }
}
