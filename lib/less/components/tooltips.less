//
//  DIALTONE
//  COMPONENTS: BUTTONS
//
//  These are button classes for Dialpad's design system Dialtone.
//  For further documentation of these and other classes,
//  visit https://dialpad.design/components/buttons
//
//  TABLE OF CONTENTS
//  • VARIABLES
//  • BASE STYLE
//  • ALTERNATE STYLES
//  • ARROW DIRECTIONS
//    - BOTTOM CENTER
//    - LEFT CENTER
//
//  ============================================================================
//  $   TOKENS
//  ----------------------------------------------------------------------------
@tooltip-bg:              fade(@slate,97%);
@tooltip-fc:              @ash;
@tooltip-bg--inverted:    fade(@ash,97%);
@tooltip-fc--inverted:    @fc-medium;

//  ============================================================================
//  $   MIXINS
//  ============================================================================
//  --  If the button doesn't have a d-btn class, you will need to re-apply the
//      hover state within your CSS. This hover mixin allows you to easily do so.
//  ----------------------------------------------------------------------------
.tooltip-hover() {
    transform: translate(0,0);
    opacity: 1;
    visibility: visible;
    transition:
        visibility 0s 0s,
        transform 200ms @transition-cubic-inOut 10ms,
        opacity 200ms @transition-cubic-inOut 10ms;
}

//  ============================================================================
//  $   BASE STYLE
//  ----------------------------------------------------------------------------
.d-tooltip {
    position: absolute;
    padding: @sp12;
    width: 100%;
    max-width: @fixed-size-2;
    z-index: @z-tooltip;

    border-radius: @br-sm;
    background-color: @tooltip-bg;
    color: @tooltip-fc;
    font-size: @text-xs;
    line-height: @lh-md;

    opacity: 0;
    visibility: hidden;
    transition:
        visibility 0s 200ms,
        transform 200ms @transition-cubic-inOut 0s,
        opacity 200ms @transition-cubic-inOut 0s;

    &:before {
        content: "";
        position: absolute;
        border-width: @sp6;
        border-color: transparent;
        border-style: solid;
    }

    //  For now all tooltips are shown in conjunction with a button,
    //  so show the tooltip on a button hover.
    &.is-visible,
    .d-btn:hover & {
        .tooltip-hover();
    }
}


//  ============================================================================
//  $   ALTERNATE STYLES
//  ============================================================================
//  $$  INVERTED (WHITE BACKGROUND)
//  ----------------------------------------------------------------------------
.d-tooltip--inverted {
    background-color: @tooltip-bg--inverted;
    color: @tooltip-fc--inverted;

    //  $$  ARROW DIRECTION UPDATES
    //  ========================================================================
    //  --  TOP
    //  ------------------------------------------------------------------------
    &.d-tooltip--tl:before,
    &.d-tooltip--tc:before,
    &.d-tooltip--tr:before {
        border-bottom-color: @tooltip-bg--inverted;
    }

    //  --  RIGHT
    //  ------------------------------------------------------------------------
    &.d-tooltip--rt:before,
    &.d-tooltip--rc:before,
    &.d-tooltip--rb:before {
        border-left-color: @tooltip-bg--inverted;
    }

    //  --  BOTTOM
    //  ------------------------------------------------------------------------
    &.d-tooltip--bl:before,
    &.d-tooltip--bc:before,
    &.d-tooltip--br:before {
        border-top-color: @tooltip-bg--inverted;
    }

    //  --  LEFT
    //  ------------------------------------------------------------------------
    &.d-tooltip--lt:before,
    &.d-tooltip--lc:before,
    &.d-tooltip--lb:before {
        border-right-color: @tooltip-bg--inverted;
    }
}

//  ============================================================================
//  $   ARROW DIRECTIONS
//  ============================================================================
//  $$  TOP
//  ----------------------------------------------------------------------------
.d-tooltip--tl,
.d-tooltip--tc,
.d-tooltip--tr {
    top: calc(~"100% + @{sp12}");
    transform: translateY(@sp16);

    &:before {
        top: -@sp6;
        border-top-width: 0;
        border-bottom-color: @tooltip-bg;
    }
}

//  $$  BOTTOM
//  ----------------------------------------------------------------------------
.d-tooltip--bl,
.d-tooltip--bc,
.d-tooltip--br {
    bottom: calc(~"100% + @{sp12}");
    transform: translateY(-@sp16);

    &:before {
        bottom: -@sp6;
        border-bottom-width: 0;
        border-top-color: @tooltip-bg;
    }
}

//  --  TOP & BOTTOM LEFT
.d-tooltip--tl,
.d-tooltip--bl {
    left: -@sp1;

    &:before {
        left: @sp8;
    }
}

//  --  TOP & BOTTOM CENTER
.d-tooltip--tc,
.d-tooltip--bc {
    &:before {
        left: 50%;
        margin-left: -@sp6;
    }
}

//  --  TOP & BOTTOM RIGHT
.d-tooltip--tr,
.d-tooltip--br {
    right: -@sp1;

    &:before {
        right: @sp8;
    }
}


//  $$  RIGHT
//  ----------------------------------------------------------------------------
.d-tooltip--rt,
.d-tooltip--rc,
.d-tooltip--rb {
    right: calc(~"100% + @{sp12}");
    transform: translateX(-@sp16);

    &:before {
        right: -@sp6;
        border-right-width: 0;
        border-left-color: @tooltip-bg;
    }
}

//  $$  LEFT
//  ----------------------------------------------------------------------------
.d-tooltip--lt,
.d-tooltip--lc,
.d-tooltip--lb {
    left: calc(~"100% + @{sp12}");
    transform: translateX(@sp16);

    &:before {
        left: -@sp6;
        border-left-width: 0;
        border-right-color: @tooltip-bg;
    }
}

//  --  RIGHT & LEFT TOP
.d-tooltip--rt,
.d-tooltip--lt {
    top: -@sp1;

    &:before {
        top: @sp8;
    }
}

//  --  RIGHT & LEFT CENTER
.d-tooltip--rc,
.d-tooltip--lc {
    &:before {
        top: 50%;
        margin-top: -@sp6;
    }
}

//  --  RIGHT & LEFT BOTTOM
.d-tooltip--rb,
.d-tooltip--lb {
    bottom: -@sp1;

    &:before {
        bottom: @sp8;
    }
}
