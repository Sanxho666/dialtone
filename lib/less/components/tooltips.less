//
//  DIALTONE
//  COMPONENTS: BUTTONS
//
//  These are button classes for Dialpad's design system Dialtone.
//  For further documentation of these and other classes,
//  visit https://dialpad.design/components/buttons
//
//  TABLE OF CONTENTS
//  • VARIABLES
//  • BASE STYLE
//  • ALTERNATE STYLES
//  • ARROW DIRECTIONS
//    - BOTTOM CENTER
//    - LEFT CENTER
//
//  ============================================================================
//  $   TOKENS
//  ----------------------------------------------------------------------------
@tooltip-background:            fade(@slate,97%);
@tooltip-color:                 @ash;
@tooltip-background--inverted:  fade(@ash,97%);
@tooltip-color--inverted:       @color--medium;

//  ============================================================================
//  $   BASE STYLE
//  ----------------------------------------------------------------------------
.d-tooltip {
    box-sizing: border-box;

    position: absolute;
    .d-padding8;
    .d-padding-bottom6;
    .d-max-width2;
    .d-z-index--tooltip;

    .d-border-radius--sm;
    background-color: @tooltip-background;
    color: @tooltip-color;
    .d-text--xs;
    .d-line-height--md;
    white-space: nowrap;

    .d-opacity0;
    visibility: hidden;
    transition:
        visibility 0s 200ms,
        transform 200ms @transition--cubic-inOut 0s,
        opacity 200ms @transition--cubic-inOut 0s;

    &:before {
        content: "";
        position: absolute;
        border: 0.6rem solid transparent;
    }
}


//  ============================================================================
//  $   ALTERNATE STYLES
//  ============================================================================
//  $$  INVERTED (WHITE BACKGROUND)
//  ----------------------------------------------------------------------------
.d-tooltip--inverted {
    background-color: @tooltip-background--inverted;
    color: @tooltip-color--inverted;

    //  $$  ARROW DIRECTION UPDATES
    //  ========================================================================
    //  --  TOP
    //  ------------------------------------------------------------------------
    &.d-tooltip--top-left,
    &.d-tooltip--top-center,
    &.d-tooltip--top-right {
        &:before {
          border-bottom-color: @tooltip-background--inverted;
        }
    }

    //  --  RIGHT
    //  ------------------------------------------------------------------------
    &.d-tooltip--right-top,
    &.d-tooltip--right-center,
    &.d-tooltip--right-bottom {
        &:before {
          border-left-color: @tooltip-background--inverted;
        }
    }

    //  --  BOTTOM
    //  ------------------------------------------------------------------------
    &.d-tooltip--bottom-left,
    &.d-tooltip--bottom-center,
    &.d-tooltip--bottom-right {
        &:before {
          border-top-color: @tooltip-background--inverted;
        }
    }

    //  --  LEFT
    //  ------------------------------------------------------------------------
    &.d-tooltip--left-top,
    &.d-tooltip--left-center,
    &.d-tooltip--left-bottom {
        &:before {
          border-right-color: @tooltip-background--inverted;
        }
    }
}

//  ============================================================================
//  $   ARROW DIRECTIONS
//  ============================================================================
//  $$  TOP
//  ----------------------------------------------------------------------------
.d-tooltip--top-left,
.d-tooltip--top-center,
.d-tooltip--top-right {
    // Reset any left or right properties that have been set
    left: unset;
    right: unset;

    top: calc(~"100% + @{spacing12}");
    transform: translateY(@spacing16);

    &:before {
        top: -(@spacing6);
        border-top-width: 0;
        border-bottom-color: @tooltip-background;
    }
}

//  $$  BOTTOM
//  ----------------------------------------------------------------------------
.d-tooltip--bottom-left,
.d-tooltip--bottom-center,
.d-tooltip--bottom-right {
    // Reset any left or right properties that have been set
    left: unset;
    right: unset;

    bottom: calc(~"100% + @{spacing12}");
    transform: translateY(-(@spacing16));

    &:before {
        bottom: -(@spacing6);
        border-bottom-width: 0;
        border-top-color: @tooltip-background;
    }
}

//  --  TOP & BOTTOM LEFT
.d-tooltip--top-left,
.d-tooltip--bottom-left {
    left: -(@spacing2);

    &:before {
        left: @spacing16;
    }
}

//  --  TOP & BOTTOM CENTER
.d-tooltip--top-center,
.d-tooltip--bottom-center {
    &:before {
        left: 50%;
        margin-left: -(@spacing6);
    }
}

//  --  TOP & BOTTOM RIGHT
.d-tooltip--top-right,
.d-tooltip--bottom-right {
    right: -(@spacing2);

    &:before {
        right: @spacing16;
    }
}


//  $$  RIGHT
//  ----------------------------------------------------------------------------
.d-tooltip--right-top,
.d-tooltip--right-center,
.d-tooltip--right-bottom {
    // Reset any top or bottom properties that have been set
    top: unset;
    bottom: unset;

    right: calc(~"100% + @{spacing12}");
    transform: translateX(-(@spacing16));

    &:before {
        right: -(@spacing6);
        border-right-width: 0;
        border-left-color: @tooltip-background;
    }
}

//  $$  LEFT
//  ----------------------------------------------------------------------------
.d-tooltip--left-top,
.d-tooltip--left-center,
.d-tooltip--left-bottom {
    // Reset any top or bottom properties that have been set
    top: unset;
    bottom: unset;

    left: calc(~"100% + @{spacing12}");
    transform: translateX(@spacing16);

    &:before {
        left: -(@spacing6);
        border-left-width: 0;
        border-right-color: @tooltip-background;
    }
}

//  --  RIGHT & LEFT TOP
.d-tooltip--right-top,
.d-tooltip--left-top {
    top: -(@spacing1);

    &:before {
        top: @spacing8;
    }
}

//  --  RIGHT & LEFT CENTER
.d-tooltip--right-center,
.d-tooltip--left-center {
    &:before {
        top: 50%;
        margin-top: -(@spacing6);
    }
}

//  --  RIGHT & LEFT BOTTOM
.d-tooltip--right-bottom,
.d-tooltip--left-bottom {
    bottom: -(@spacing1);

    &:before {
        bottom: @spacing8;
    }
}

//  ============================================================================
//  $   HOVER MIXIN
//  ============================================================================
//  --  If the button doesn't have a d-btn class, you will need to re-apply the
//      hover state within your CSS. This hover mixin allows you to easily do so.
//  ----------------------------------------------------------------------------
.tooltip-hover() {
    transform: translate(0,0);
    .d-opacity100;
    visibility: visible;
    transition:
        visibility 0s 0s,
        transform 200ms @transition--cubic-inOut 10ms,
        opacity 200ms @transition--cubic-inOut 10ms;
}
