//
//  DIALTONE
//  COMPONENTS: INPUTS
//
//  These are input classes for Dialpad's design system Dialtone.
//  For further documentation of these and other classes,
//  visit https://dialpad.design/components/inputs
//
//  TABLE OF CONTENTS
//  • INPUTS & TEXTAREAS
//    - Base Style
//    - Validation States
//    - Sizes
//  • SELECT MENUS
//  • CHECKBOXES
//  • RADIOS
//  • TOGGLES
//  • LABELS
//
//  ============================================================================
//  $  INPUTS
//  ----------------------------------------------------------------------------
.dt-input {
    .input-base-style();

    //  --  VALIDATION STATES
    &.has-warning { .input-has-warning(); }
    &.has-error   { .input-has-error(); }
    &.has-success { .input-has-success(); }
}

//  --  SIZES
.dt-input__xs  { .input-button-xs(); }
.dt-input__sm  { .input-button-sm(); }
.dt-input__lg  { .input-button-lg(); }
.dt-input__xl  { .input-button-xl(); }


//  ============================================================================
//  $  TEXTAREAS
//  ----------------------------------------------------------------------------
.dt-textarea {
    .input-base-style();
    padding-left: @sp12 - @sp1;  // Minus out the border
    padding-right: @sp12 - @sp1;  // Minus out the border
    min-height: 8rem;

    //  --  VALIDATION STATES
    &.has-warning { .input-has-warning(); }
    &.has-error   { .input-has-error(); }
    &.has-success { .input-has-success(); }
}

//  --  SIZES
.dt-textarea__xs {
    .input-button-xs();
    min-height: 4rem;
}
.dt-textarea__sm {
    .input-button-sm();
    min-height: 4.8rem;
}
.dt-textarea__lg {
    .input-button-lg();
    min-height: 9.2rem;
}
.dt-textarea__xl {
    .input-button-xl();
    min-height: 10rem;
}


//  ============================================================================
//  $  SELECT MENU (NATIVE)
//  ----------------------------------------------------------------------------
.dt-select {
    position: relative;
    font-size: @input-font-size;

    //  --  Creat some arrows
    &:before,
    &:after {
        content: "";
        position: absolute;
        z-index: @z-selected;
        right: 0.75em;
        border-color: @slate transparent;
        border-style: solid;
        border-width: 0.25em;
        pointer-events: none;
    }
    &:before {
        top: calc(~"50% - 0.25em");
        border-top-width: 0;
    }
    &:after {
        top: calc(~"50% + 0.125em");
        border-bottom-width: 0;
    }

    > select {
        //  [1] Reset the appearance
        -webkit-appearance: none;
           -moz-appearance: none;
                appearance: none;

        //  [2] Update the styles
        .input-base-style();
        padding-right: 2em;
        height: 100%; // Fill the height of its parent
        background-color: @white;

        &::-moz-focus-inner {
            outline: none !important;
        }
        &:-moz-focusring {
            color: transparent;
            text-shadow: 0 0 0 #000;
        }
        &::-ms-expand {
            display: none;
        }
    }

    //  --  VALIDATION STATES
    &.has-warning > select { .input-has-warning(); }
    &.has-error > select   { .input-has-error(); }
    &.has-success > select { .input-has-success(); }
}

//  --  SIZES
.dt-select__xs {
    font-size: @text-xs;

    > select {
        .input-button-xs();
        padding-right: 2em;
    }
}
.dt-select__sm {
    font-size: @text-sm;

    > select {
        .input-button-sm();
        padding-right: 2em;
    }
}
.dt-select__lg {
    font-size: @text-lg;

    > select {
        .input-button-lg();
        padding-right: 2em;
    }
}
.dt-select__xl {
    font-size: @text-lg;

    > select {
        .input-button-xl();
        padding-right: 2em;
    }
}


//  ============================================================================
//  $  FIELDSET
//  ----------------------------------------------------------------------------
fieldset {
    padding: @sp0;
    min-width: @sp0;
    border: none;
}


//  ============================================================================
//  $  LABELS
//  ----------------------------------------------------------------------------
.dt-label {
    display: inline-flex;
    flex: 1 0%;
    align-items: baseline;
    justify-content: space-between;
    margin: 0 @sp2;

    color: currentColor;
    fill: currentColor;
    font-size: @text-md;
    font-weight: @fw-bold;
    line-height: @lh-lg;

    cursor: pointer;
    word-break: break-word;
    overflow-wrap: break-word;

    legend& { cursor: default; }
}


//  ============================================================================
//  $  COPY STYLES
//  ============================================================================
//  $$ LABEL DESCRIPTION
//  ----------------------------------------------------------------------------
.dt-description {
    display: block;
    margin: 0 @sp2 @sp8;
    color: @fc-light;
    fill: currentColor;
    font-size: @text-sm;
    font-family: @ff-sans;
    line-height: @lh-md;
}

//  $$ INPUT MESSAGE
//  ----------------------------------------------------------------------------
.dt-input-message {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    margin: @sp4 @sp2;
    font-weight: inherit;
    font-size: @text-sm;
    font-family: @ff-sans;
    line-height: inherit;

    &.has-warning {
        color: @input-warning-text;

        .dt-input-message--link {
            color: @input-warning-link;
            &:hover { color: darken(@input-warning-link,10%); }
        }
    }
    &.has-error {
        color: @input-error-text;

        .dt-input-message--link {
            color: @input-error-link;
            &:hover { color: darken(@input-error-link,10%); }
        }
    }
    &.has-success {
        color: @input-success-text;

        .dt-input-message--link {
            color: @input-success-link;
            &:hover { color: darken(@input-success-link,10%); }
        }
    }
}
