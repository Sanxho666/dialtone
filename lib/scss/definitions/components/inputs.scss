//
//  DIALTONE
//  DEFINITIONS: INPUTS
//
//  These are input definitions for Dialpad's design system Dialtone.
//  For further documentation of these and other classes, please visit:
//  https://dialpad.design/components/inputs
//
//  TABLE OF CONTENTS
//  • INPUTS & TEXTAREAS
//    - Base Style
//    - Validation States
//    - Sizes
//  • SELECT MENUS
//  • CHECKBOXES
//  • RADIOS
//  • TOGGLES
//  • LABELS
//
//  ============================================================================
@each $breakpoint, $variant in $rwd-variants {
    @include rwd($breakpoint) {
        //  ====================================================================
        //  $   INPUTS
        //  --------------------------------------------------------------------
        %#{$variant}dt-input {
            @include input-base-style;
        }

        //  ====================================================================
        //  $   SELECT MENU
        //  --------------------------------------------------------------------
        %#{$variant}dt-select {
            position: relative;
            &:before,
            &:after {
                content: "";
                position: absolute;
                z-index: $z-selected;
                right: $sp12;
                border-color: $gray-100 transparent;
                border-style: solid;
                border-width: $bw4;
                pointer-events: none;
            }
            &:before {
                top: calc(50% - #{$bw4});
                border-top-width: 0 !important;
            }
            &:after {
                top: calc(50% + #{$bw2});
                border-bottom-width: 0 !important;
            }

            > select {
                //  [1] Reset the appearance
                -webkit-appearance: none;
                   -moz-appearance: none;
                        appearance: none;

                //  [2] Update the styles
                @include input-base-style;
                padding-left: $sp12;
                padding-right: $sp32;
                height: 100%; // Fill the height of its parent
                background-color: $white;
                line-height: $lh-sm;

                &::-moz-focus-inner {
                    outline: none !important;
                }
                &:-moz-focusring {
                    color: transparent;
                    text-shadow: 0 0 0 #000;
                }
                &::-ms-expand {
                    display: none;
                }
            }
        }

        //  ====================================================================
        //  $   TEXTAREA
        //  --------------------------------------------------------------------
        %#{$variant}dt-textarea {
            @include input-base-style;
            padding: $sp12;
            min-height: 5rem;
        }

        //  ====================================================================
        //  $   SIZES
        //  --------------------------------------------------------------------
        %#{$variant}dt-input-sizes__sm { font-size: $text-sm; }
        %#{$variant}dt-input-sizes__lg { font-size: $text-xl; }
        %#{$variant}dt-input-sizes__xl { font-size: $headline-sm; }

        //  --  INPUT-ONLY SIZE PROPERTIES
        %#{$variant}dt-input__sm {
            padding: $sp4 $sp12;
            min-height: 2.2rem;
        }
        %#{$variant}dt-input__md { min-height: 2.75rem; }
        %#{$variant}dt-input__lg { min-height: 3rem; }
        %#{$variant}dt-input__xl { min-height: 3.5rem; }

        //  --  TEXTAREA-ONLY SIZE PROPERTIES
        %#{$variant}dt-textarea__sm { min-height: 3rem; }
        %#{$variant}dt-textarea__md { min-height: 5.25rem; }
        %#{$variant}dt-textarea__lg { min-height: 5.75rem; }
        %#{$variant}dt-textarea__xl {
            padding: $sp16;
            min-height: 6.25rem;
        }

        //  --  SELECT MENU SIZE PROPERTIES
        %#{$variant}dt-select__sm {
            &:before { top: calc(50% - #{$sp6}); }
            &:after  { top: calc(50% + 1px); }
            > select {
                padding: $sp6 1.875rem $sp2 $sp12;
                min-height: 2.2rem;
            }
        }
        %#{$variant}dt-select__md {
            &:before,
            &:after  { border-width: 0.3125rem; }
            &:before { top: calc(50% - 0.3125rem); }
            > select { min-height: 2.75rem; }
        }
        %#{$variant}dt-select__lg {
            &:before,
            &:after  { border-width: 0.3125rem; }
            &:before { top: calc(50% - 0.3125rem); }
            > select { min-height: 3rem; }
        }
        %#{$variant}dt-select__xl {
            &:before,
            &:after  { border-width: $sp6; }
            &:before { top: calc(50% - #{$sp6}); }
            > select { min-height: 3.5rem; }
        }

        //  ====================================================================
        //  $   FIELDSET
        //      Reset values
        //  --------------------------------------------------------------------
        %fieldset {
            padding: $sp0;
            min-width: $sp0;
            border: $sp0;
        }

        //  ====================================================================
        //  $   LABELS
        //  --------------------------------------------------------------------
        %#{$variant}dt-label {
            display: flex;
            flex: 1 auto;
            align-items: baseline;
            justify-content: space-between;
            margin: 0 $sp2;
            color: currentColor;
            word-break: break-word;
            font-weight: $fw-bold;
            font-size: $text-md;
            line-height: $lh-lg;
            cursor: pointer;
            fill: currentColor;
            overflow-wrap: break-word;
        }

        //  ====================================================================
        //  $   LABEL DESCRIPTION COPY
        //  --------------------------------------------------------------------
        %#{$variant}dt-description {
            display: block;
            margin: 0 $sp2 $sp4;
            color: $fc-light;
            font-weight: $fw-normal;
            font-size: $text-sm;
            font-family: $ff-sans;
            line-height: $lh-lg;
            fill: currentColor;
        }

        //  ====================================================================
        //  $   INPUT MESSAGE COPY
        //  --------------------------------------------------------------------
        %#{$variant}dt-input-message {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            margin: $sp4 $sp2;
            font-weight: inherit;
            font-size: $text-sm;
            font-family: $ff-sans;
            line-height: inherit;
        }

        //  ====================================================================
        //  $   INPUT STATES
        //  --------------------------------------------------------------------
        %#{$variant}has-warning {
            @include input-has-warning;
        }
        %#{$variant}has-error {
            @include input-has-error;
        }
        %#{$variant}has-success {
            @include input-has-success;
        }
    }
}
