//
//  DIALTONE
//  COMPONENTS: INPUTS
//
//  These are input classes for Dialpad's design system Dialtone.
//  For further documentation of these and other classes,
//  visit https://dialpad.design/components/inputs
//
//  TABLE OF CONTENTS
//  • VARIABLES
//  • INPUTS & TEXTAREAS
//    - Base Style
//    - Validation States
//    - Sizes
//  • SELECT MENUS
//  • CHECKBOXES
//  • RADIOS
//  • TOGGLES
//  • LABELS
//
//  ============================================================================
//  @  VARIABLES
//  ----------------------------------------------------------------------------
@input-border:                   @ash-darkest;
@input-warning-border:           @sunflower-dark;
@input-warning-text:             @color--sunflower-text;
@input-warning-link:             darken(@input-warning-text,15%);
@input-error-border:             @error-color;
@input-error-text:               darken(@error-color,40%);
@input-error-link:               darken(@input-error-text,15%);
@input-success-border:           @emerald;
@input-success-text:             @color--emerald-text;
@input-success-link:             darken(@input-success-text,15%);
@input-button-radius:            @base-corner-radius;


//  ============================================================================
//  @  INPUTS
//  ----------------------------------------------------------------------------
.d-input            { .input(@text--md, @input-button-padding, @input-button-line-height); }
.d-input--xs        { .input(@text--xs, @input-button-padding--xs, @input-button-line-height--xs); }
.d-input--sm        { .input(@text--sm, @input-button-padding--sm, @input-button-line-height--sm); }
.d-input--lg        { .input(@text--xl, @input-button-padding--lg, @input-button-line-height--lg); }
.d-input--xl        { .input(@headline--sm, @input-button-padding--xl, @input-button-line-height--xl); }

//  @@  VALIDATION STATES
.d-input--warning   { .input-validation(@input-warning-border, input); }
.d-input--error     { .input-validation(@input-error-border, input); }
.d-input--success   { .input-validation(@input-success-border, input); }


//  ============================================================================
//  @  TEXTAREAS
//  ----------------------------------------------------------------------------
.d-textarea {
    .input(@text--md, @textarea-padding, @input-button-line-height);
    min-height: 8rem;
}
//  --  SIZES
.d-textarea--xs {
    .input(@text--xs, @textarea-padding, @input-button-line-height--xs);
    min-height: 4rem;
}
.d-textarea--sm {
    .input(@text--sm, @textarea-padding, @input-button-line-height--sm);
    min-height: 4.8rem;
}
.d-textarea--lg {
    .input(@text--xl, @textarea-padding, @input-button-line-height--lg);
    min-height: 9.2rem;
}
.d-textarea--xl {
    .input(@headline--sm, @textarea-padding, @input-button-line-height--xl);
    min-height: 10rem;
}

//  @@  VALIDATION STATES
.d-textarea--warning   { .input-validation(@input-warning-border, input); }
.d-textarea--error     { .input-validation(@input-error-border, input); }
.d-textarea--success   { .input-validation(@input-success-border, input); }



//  ============================================================================
//  @  SELECT MENU (NATIVE)
//  ----------------------------------------------------------------------------
.d-select {
    box-sizing: border-box;

    position: relative;
    font-size: @text--md;
    line-height: @input-button-line-height;

    //  --  Creat some arrows
    &:before,
    &:after {
        content: "";
        position: absolute;
        z-index: @z-index--selected;
        right: 0.75em;
        border-color: @slate transparent;
        border-style: solid;
        border-width: 0.25em;
        pointer-events: none;
    }
    &:before {
        top: calc(~"50% - 0.25em");
        border-top-width: 0;
    }
    &:after {
        top: calc(~"50% + 0.125em");
        border-bottom-width: 0;
    }

    > select {
        //  [1] Reset the appearance
        -webkit-appearance: none;
           -moz-appearance: none;
                appearance: none;

        //  [2] Update the styles
        .input(@text--md, @input-button-padding, @input-button-line-height);
        height: 100%; // Fill the height of its parent
        background-color: @white;

        &::-moz-focus-inner {
            outline: none !important;
        }
        &:-moz-focusring {
            color: transparent;
            text-shadow: 0 0 0 #000;
        }
        &::-ms-expand {
            display: none;
        }
    }
}

//  @@  VALIDATION STATES
.d-select--warning > select { .input-validation(@input-warning-border,input); }
.d-select--error > select   { .input-validation(@input-error-border,input); }
.d-select--success > select { .input-validation(@input-success-border,input); }

//  @@  SIZES
.d-select--xs {
    font-size: @text--xs;
    line-height: @input-button-line-height--xs;

    > select {
        .input-button-xs();
        padding-right: 2em;
    }
}
.d-select--sm {
    font-size: @text--sm;
    line-height: @input-button-line-height--sm;

    > select {
        .input-button-sm();
        padding-right: 2em;
    }
}
.d-select--lg {
    font-size: @text--xl;
    line-height: @input-button-line-height--lg;

    > select {
        .input-button-lg();
        padding-right: 2em;
    }
}
.d-select--xl {
    font-size: @headline--sm;
    line-height: @input-button-line-height--xl;

    > select {
        .input-button-xl();
        padding-right: 2em;
    }
}


//  ============================================================================
//  @  FIELDSET
//  ----------------------------------------------------------------------------
fieldset {
    padding: @spacing0;
    min-width: @spacing0;
    border: none;
}


//  ============================================================================
//  @  LABELS
//  ----------------------------------------------------------------------------
.d-label        { .label(@text--md); }      // Default
.d-label--xs    { .label(@text--xs); }      // Extra Small
.d-label--sm    { .label(@text--sm); }      // Small
.d-label--lg    { .label(@text--lg); }      // Large
.d-label--xl    { .label(@text--xl); }      // Extra Large


//  ============================================================================
//  @  COPY STYLES
//  ============================================================================
//  @$ LABEL DESCRIPTION
//  ----------------------------------------------------------------------------
.d-description {
    box-sizing: border-box;

    display: block;
    color: @color--dark-light;
    fill: currentColor;
    font-size: @text--sm;
    font-family: @font-family--sans;
    line-height: @line-height--md;
}

//  @$ INPUT MESSAGE
//  ----------------------------------------------------------------------------
.d-input-message {
    box-sizing: border-box;

    display: flex;
    align-items: baseline;
    justify-content: space-between;
    font-weight: inherit;
    font-size: @text--sm;
    font-family: @font-family--sans;
    line-height: inherit;
}

.d-input-message--warning {
    color: @input-warning-text;

    > a[href] {
        color: @input-warning-link;
        &:hover { color: darken(@input-warning-link,10%); }
    }
}
.d-input-message--error {
    color: @input-error-text;

    > a[href] {
        color: @input-error-link;
        &:hover { color: darken(@input-error-link,10%); }
    }
}
.d-input-message--success {
    color: @input-success-text;

    > a[href] {
        color: @input-success-link;
        &:hover { color: darken(@input-success-link,10%); }
    }
}
