//
//  DIALTONE
//  COMPONENTS: BUTTONS
//
//  These are button classes for Dialpad's design system Dialtone.
//  For further documentation of these and other classes,
//  visit https://dialpad.design/components/buttons
//
//  TABLE OF CONTENTS
//  • BASE STYLE
//  • VISUAL STYLES
//  • ALTERNATE STYLES
//  • SIZES
//
//  ============================================================================
//  @   BASE STYLE
//  ----------------------------------------------------------------------------
.d-btn {
    box-sizing: border-box;

    position: relative;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    .d-margin0();
    padding: @input-button-padding;

    border: @border-width1 solid transparent;
    border-radius: @button-border-radius;
    background-color: fade(@button-background-color,0%);
    box-shadow: inset 0 0 0 0 fade(@button-background-color,0%);

    text-decoration: none;
    text-transform: inherit;
    font-family: inherit;
    color: @button-font-color;
    font-size: @button-font-size;
    line-height: @input-button-line-height;

    cursor: pointer;
    transition-timing-function: @transition--cubic-inOut;
    transition-duration: 100ms;
    transition-property: background-color, border, box-shadow;

    user-select: none;
    fill: currentColor;

    //  --  STATES
    //  ------------------------------------------------------------------------
    &:hover {
        background-color: fade(@button-background-color,5%);
    }
    &:focus {
        outline: none;
        box-shadow: 0 0 0 @spacing4 fade(@button-background-color,25%);
    }
    &:active {
        border-color: fade(@button-background-color,50%);
        background-color: fade(@button-background-color,10%);
        box-shadow: inset 0 0 @spacing8 0 fade(@button-background-color,30%);
    }
    &[disabled] {
        .disabled-input-style();
        opacity: 0.75;
        transition: none;
        pointer-events: none;
    }
}
//  Loading class
.d-btn--loading {
    .d-btn();
    .d-btn-loading();
}
//  Disabled class
.d-btn--disabled {
    .d-btn();
    .disabled-input-style();
    opacity: 0.75;
    transition: none;
    pointer-events: none;
}


//  ============================================================================
//  @   BUTTON LABEL
//  ----------------------------------------------------------------------------
.d-btn__label {
    display: inline-flex;
    justify-content: center;
    align-items: center;
}

//  @   BUTTON ICON
//  ----------------------------------------------------------------------------
.d-btn__icon {
    display: flex;
    margin: -.4rem .4rem -.4rem -.2rem;
    .d-svg--size18();

    &.d-btn__icon--last {
        order: 1;
        margin-left: .4rem;
        margin-right: -.2rem;
    }
}


//  ============================================================================
//  @   VISUAL STYLES
//  ============================================================================
//  @@  OUTLINED BUTTON
//  ----------------------------------------------------------------------------
.d-btn--outlined {
    //  Incorporate prior styles
    .d-btn();

    //  Now change them
    box-shadow: none;
    border-color: @button-border-color;
    color: @button-font-color;

    &:active {
        border-color: darken(@button-border-color,5%);
        background-color: fade(@button-background-color,15%);
    }
    &[disabled] {
        border-color: transparent;
    }
}
.d-btn--outlined--loading {
    .d-btn--outlined();
    .d-btn-loading();
}
.d-btn--outlined--disabled {
    //  Incorporate prior styles
    .d-btn--disabled();

    //  Now change it
    border-color: transparent;
}

//  @@  PRIMARY BUTTON
//  ----------------------------------------------------------------------------
.d-btn--primary {
    //  Incorporate prior styles
    .d-btn();

    //  Now change them
    background-color: @button-primary;
    .d-color--white();

    //  --  STATES
    //  ------------------------------------------------------------------------
    &:hover {
        background-color: @button-primary-hover;
    }
    &:focus {
        box-shadow: 0 0 0 @spacing4 fade(@button-primary,25%);
    }
    &:active {
        border-color: darken(@button-primary-hover,20%);
        background-color: saturate(@button-primary,15%);
        box-shadow: inset 0 0 @spacing8 0 darken(@blue-dark,10%);
    }
}
.d-btn--primary--loading {
    .d-btn--primary();
    .d-btn-loading--white();
}
.d-btn--primary--disabled {
    //  Incorporate prior styles
    .d-btn--disabled();
}

//  @@  DANGER BUTTON
//  ----------------------------------------------------------------------------
//  --  Base, clear danger button
.d-btn--danger {
    //  Incorporate prior styles
    .d-btn();

    //  Now change them
    .btn-danger-clear-states();
}
.d-btn--danger--loading {
    .d-btn--danger();
    .d-btn-loading--danger();
}
.d-btn--danger--disabled {
    //  Incorporate prior styles
    .d-btn--disabled();

    //  Now change it
    border-color: transparent;
}

//  @@  OUTLINED DANGER BUTTON
//  ----------------------------------------------------------------------------
.d-btn--danger--outlined {
    //  Incorporate prior styles
    .d-btn();

    //  Now change them
    .btn-danger-clear-states();
    border-color: @button-danger;

    &:active {
        border-color: darken(@button-danger,5%);
    }
}
.d-btn--danger--outlined--loading {
    .d-btn--danger--outlined();
    .d-btn-loading--danger();
}
.d-btn--danger--outlined--disabled {
    //  Incorporate prior styles
    .d-btn--danger--disabled();
}

//  @@  FILLED DANGER BUTTON
//  ----------------------------------------------------------------------------
.d-btn--danger--primary {
    //  Incorporate prior styles
    .d-btn();

    //  Now change them
    .btn-danger-primary-states();
}
.d-btn--danger--primary--loading {
    .d-btn--danger--primary();
    .d-btn-loading--white();
}
.d-btn--danger--primary--disabled {
    //  Incorporate prior styles
    .d-btn--danger--disabled();
}

//  @@  INVERTED BUTTON
//  ----------------------------------------------------------------------------
//  --  Base, clear inverted button
.d-btn--inverted {
    //  Incorporate prior styles
    .d-btn();

    //  Now change them
    .btn-inverted-clear-states();
}
.d-btn--inverted--loading {
    .d-btn--inverted();
    .d-btn-loading--white();
}
.d-btn--inverted--disabled {
    //  Incorporate prior styles
    .d-btn--disabled();
}

//  --  Outlined inverted button
.d-btn--inverted--outlined {
    //  Incorporate prior styles
    .d-btn();

    //  Now change them
    .btn-inverted-outlined-states();
}
.d-btn--inverted--outlined--loading {
    .d-btn--inverted--outlined();
    .d-btn-loading--white();
}
.d-btn--inverted--outlined--disabled {
    //  Incorporate prior styles
    .d-btn--disabled();
}

//  --  Filled (primary) inverted button
.d-btn--inverted--primary {
    //  Incorporate prior styles
    .d-btn();

    //  Now change them
    .btn-inverted-primary-states();
}
.d-btn--inverted--primary--loading {
    .d-btn--inverted--primary();
    .d-btn-loading();
}
.d-btn--inverted--primary--disabled {
    //  Incorporate prior styles
    .d-btn--disabled();
}


//  @@  BRAND BUTTONS
//  ----------------------------------------------------------------------------
//  --  GOOGLE
.d-btn--google {
    .d-btn();
    .brand-buttons(@button-brand-google);
}
.d-btn--google--disabled {
    .d-btn--google();
    .d-btn--disabled();
}
//
//  --  OFFICE 365
.d-btn--o365 {
    .d-btn();
    .brand-buttons(@button-brand-o365);
}
.d-btn--o365--disabled {
    .d-btn--o365();
    .d-btn--disabled();
}
//
//  --  LINKEDIN
.d-btn--linkedin {
    .d-btn();
    .brand-buttons(@button-brand-linkedin);
}
.d-btn--linkedin--disabled {
    .d-btn--linkedin();
    .d-btn--disabled();
}

//  ============================================================================
//  @   BUTTON SIZES
//  ----------------------------------------------------------------------------
.d-btn--xs { .input-button-xs(); }
.d-btn--sm { .input-button-sm(); }
.d-btn--lg { .input-button-lg(); }
.d-btn--xl { .input-button-xl(); }


//  ============================================================================
//  @   CIRCLE BUTTONS
//  ============================================================================
//  @@  BASE CLEAR CIRCLE
//  ----------------------------------------------------------------------------
.d-btn--circle {
    //  Incorporate base styles
    .d-btn();

    //  Now change them
    .d-color--dark-light();
    padding: @spacing8;
    .d-border-radius--circle();
    background-color: fade(@button-muted,0%);
    transition: all 150ms @transition--cubic-inOut;

    //  Reset icon margins
    .d-btn__icon {
        margin: unset;
    }

    //  If there's a label, hide it
    .d-btn__label {
        display: none;
    }

    //  --  STATES
    //  ------------------------------------------------------------------------
    &:hover {
        background-color: fade(@button-muted-hover,7.5%);
        .d-color--dark();
    }
    &:focus {
        box-shadow: 0 0 0 @spacing4 fade(@button-muted-hover,25%);
    }
    &:active {
        border-color: fade(@button-muted,50%);
        background-color: fade(@button-muted,10%);
        box-shadow: inset 0 0 @spacing8 0 fade(@button-muted,30%);
    }
}
.d-btn--circle--loading {
    .d-btn--circle();
    .d-btn-loading--dark();
}
.d-btn--circle--disabled {
    .d-btn--circle();
    .disabled-input-style();
    opacity: 0.75;
    transition: none;
    pointer-events: none;
}


//  @@  OUTLINED CIRCLE
//  ----------------------------------------------------------------------------
.d-btn--circle--outlined {
    //  Incorporate base styles
    .d-btn--outlined();
    .d-btn--circle();

    //  Now modify those styles
    border-color: @button-muted;
    color: @color--dark-light;

    //  --  STATES
    //  ------------------------------------------------------------------------
    &:hover {
        border-color: @button-muted-hover;
        color: @color--dark;
    }
    &:active {
        border-color: fade(@button-muted,50%);
        background-color: fade(@button-muted,10%);
        box-shadow: inset 0 0 @spacing8 0 fade(@button-muted,30%);
    }
}
.d-btn--circle--outlined--loading {
    .d-btn--circle--outlined();
    .d-btn-loading--dark();
}
.d-btn--circle--outlined--disabled {
    .d-btn--circle();
    .d-btn--disabled();
}

//  @@  DANGER CIRCLE STYLES
//  ----------------------------------------------------------------------------
//  --  Danger "Hover" style
//      This looks like a normal circle button, but on hover applies the
//      danger styles to it.
//  ----------------------------------------------------------------------------
.d-btn--circle--danger-hover {
    //  First incorporate base styles
    .d-btn--circle();

    //  Now modify those styles
    .btn-danger-clear-states();
    .d-color--dark-light();

    //  --  STATES
    //  ------------------------------------------------------------------------
    &:hover {
        color: @button-danger;
    }
    &:focus,
    &:active {
        color: @button-danger-hover;
    }
}
.d-btn--circle--danger-hover--loading {
    .d-btn--circle--danger-hover();
    .d-btn-loading--dark();
}
.d-btn--circle--danger-hover--disabled {
    .d-btn--circle();
    .d-btn--disabled();
    border-color: transparent;
}


//  --  Default, clear danger circle
.d-btn--circle--danger {
    .d-btn--circle();
    .btn-danger-clear-states();
}
.d-btn--circle--danger--loading {
    .d-btn--circle--danger();
    .d-btn-loading--danger();
}
.d-btn--circle--danger--disabled {
    .d-btn--circle();
    .d-btn--disabled();
    border-color: transparent;
}

//  --  Default, clear danger circle
.d-btn--circle--danger--primary {
    .d-btn--circle();
    .btn-danger-primary-states();
}
.d-btn--circle--danger--primary--loading {
    .d-btn--circle--danger--primary();
    .d-btn-loading--white();
}
.d-btn--circle--danger--primary--disabled {
    .d-btn--circle();
    .d-btn--disabled();
}

//  @@  INVERTED CIRCLE STYLES
//  ----------------------------------------------------------------------------
//  --  Base inverted style
.d-btn--circle--inverted {
    .d-btn--circle();
    .btn-inverted-clear-states()
}
.d-btn--circle--inverted--loading {
    .d-btn--circle--inverted();
    .d-btn-loading--white();
}
.d-btn--circle--inverted--disabled {
    .d-btn--circle();
    .d-btn--disabled();
}

//  --  Outlined inverted style
.d-btn--circle--inverted--outlined {
    .d-btn--circle--inverted();
    .btn-inverted-outlined-states()
}
.d-btn--circle--inverted--outlined--loading {
    .d-btn--circle--inverted--outlined();
    .d-btn-loading--white();
}
.d-btn--circle--inverted--outlined--disabled {
    .d-btn--circle();
    .d-btn--disabled();
}

//  --  Inverted Primary style
.d-btn--circle--inverted--primary {
    .d-btn--circle--inverted();
    .btn-inverted-primary-states()
}
.d-btn--circle--inverted--primary--loading {
    .d-btn--circle--inverted--primary();
    .d-btn-loading();
}
.d-btn--circle--inverted--primary--disabled {
    .d-btn--circle();
    .d-btn--disabled();
}

//  @@  CIRCLE SIZES
//  ----------------------------------------------------------------------------
.d-btn--circle--xs {
    .d-btn--xs();
    padding: @spacing4;
}
.d-btn--circle--sm {
    .d-btn--sm();
    padding: @spacing6;
}
.d-btn--circle--lg {
    .d-btn--lg();
    padding: (@spacing12 + @spacing1);
}
.d-btn--circle--xl {
    .d-btn--xl();
    padding: (@spacing16 - @spacing1);
}


//  ============================================================================
//  @   BUTTON LOADER
//      Changes the button
//  ============================================================================
//  @@  BASE STYLE
//  ----------------------------------------------------------------------------
.d-btn-loading {
    //  Disable clicking while the loader is in place
    pointer-events: none;

    //  Hide anything that was there before
    .d-btn__icon,
    .d-btn__label {
        opacity: 0;
        transition: opacity 50ms @transition--cubic-inOut;
    }

    //  Show the loading animation
    &:before {
        content: "";
        position: absolute;
        top: calc(~"50% - @{spacing8}");
        left: calc(~"50% - @{spacing8}");

        width: @spacing16;
        height: @spacing16;
        .d-border-radius--circle();
        .d-border-width2();
        .d-border--solid();
        border-color: @button-border-loading;
        border-left-color: transparent !important;

        animation: d-loading-circle 900ms infinite linear;
    }
}

//  @@  ALTERNATE STYLES
//  ----------------------------------------------------------------------------
.d-btn-loading--white {
    .d-btn-loading();

    &:before {
        border-color: @button-border-loading-white;
    }
}

.d-btn-loading--dark {
    .d-btn-loading();

    &:before {
        border-color: @button-muted-hover;
    }
}

.d-btn-loading--danger {
    .d-btn-loading();

    &:before {
        border-color: @button-danger;
    }
}
