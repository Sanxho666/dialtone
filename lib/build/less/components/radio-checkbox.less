//
//  DIALTONE
//  COMPONENTS: RADIOS & CHECKBOXES
//
//  These are input classes for Dialpad's design system Dialtone.
//  For further documentation of these and other classes,
//  visit https://dialpad.design/components/inputs
//
//  TABLE OF CONTENTS
//  • SHARED STYLES
//  • WRAPPERS
//  • INPUT & COPY BLOCKS
//  • LABELS
//  • CHECKBOXES
//    - Modifications
//    - Validation States
//  • RADIOS
//    - Modifications
//    - Validation States
//
//  ============================================================================
//  @   RADIOS & CHECKBOXES
//  ----------------------------------------------------------------------------
.d-checkbox,
.d-radio {
    //  [1] Check to see if we can use custom styles, if so reset the defaults
    //  ------------------------------------------------------------------------
    @supports ((-webkit-appearance: none) or (-moz-appearance: none) or (appearance: none)) {
        -webkit-appearance: none;
           -moz-appearance: none;
                appearance: none;

        &::-ms-check {
            display: none;
        }

        //  [2]  Now re-style the checkboxes and radios
        //  --------------------------------------------------------------------
        margin: 0;
        width: 1.4rem;
        height: 1.4rem;
        border: 0.1rem solid @slate-lightest;
        .d-background-color--white();
        outline: 0;
        font-size: inherit;
        cursor: pointer;

        &:focus {
            .d-border-color--blue();
            box-shadow: 0 0 0 @spacing4 fade(@blue,15%);
            outline: 0;
        }
        &:checked {
            .d-border-color--blue();

            &:focus {
                .d-border-color--blue();
                box-shadow: 0 0 0 @spacing4 fade(@blue,15%);
            }
        }
    }

    flex: 0 auto;
    align-self: flex-start;

    //  --  DISABLED
    &[disabled] {
        opacity: 0.5;
        cursor: not-allowed;
    }
}


//  ============================================================================
//  @   RADIO / CHECKBOX WRAPPERS
//  ----------------------------------------------------------------------------
.d-checkbox-group,
.d-radio-group {
    .checkbox-radio-group();
}

//  --  Wrapper Disabled State
.d-checkbox-group--disabled,
.d-radio-group--disabled {
    .checkbox-radio-group();
    .d-color--light-darkest();
    cursor: not-allowed;
}


//  ============================================================================
//  @   INPUT BLOCKS
//      This holds the radio or checkbox input
//  ----------------------------------------------------------------------------
.d-checkbox__input,
.d-radio__input {
    display: flex;
    align-self: flex-start;
    .d-padding-top2();
}


//  ============================================================================
//  @   COPY BLOCKS
//      This holds the label and description copy
//  ----------------------------------------------------------------------------
.d-checkbox__copy,
.d-radio__copy {
    display: inline-flex;
    flex-direction: column;
    .d-flex1();
    .d-max-width4();
    .d-margin-left8();
}


//  ============================================================================
//  @   LABELS, LEGENDS, DESCRIPTIONS, OH MY!
//      Radio and checkbox labels typically have a normal font-weight applied.
//  ----------------------------------------------------------------------------
.d-checkbox__label,
.d-radio__label {
    .d-label();
    .d-text--sm();
    line-height: 1.428571429;
    .d-font-weight--normal();
}

//  @@  ...but legends _do_ have the normal label styling
.d-checkbox__legend,
.d-radio__legend {
    .d-label();
}

.d-checkbox__description,
.d-radio__description {
    .d-input-message();
    .d-font-family--mark();
    .d-color--dark-lighter();
    .d-text--xs();
    line-height: 1.333333333;

    //  --  Validation States
    &--warning {
        .d-input-message--warning();
    }
    &--error {
        .d-input-message--error();
    }
    &--success {
        .d-input-message--success();
    }
}


//  ============================================================================
//  @   CHECKBOXES
//  ----------------------------------------------------------------------------
.d-checkbox {
    @supports ((-webkit-appearance: none) or (-moz-appearance: none) or (appearance: none)) {
        border-radius: 0.2rem;
        background-position: center center;
        background-repeat: no-repeat;
        background-size: contain;

        //  Disabled
        &[disabled] {
            .d-border-color--ash-darker();
            .d-background-color--ash();
        }

        &:checked {
            .d-background-color--blue();
            background-image: url("data:image/svg+xml,%3Csvg width='12' height='12' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z' fill='%23fff'/%3E%3C/svg%3E");

            //  Disabled
            &[disabled] {
                border-color: @ash-dark;
                background-color: @ash;
            }
        }
    }
}

//  @@  VALIDATION STATES
//  ----------------------------------------------------------------------------
.d-checkbox--warning {
    border-color: @input-warning-border;

    &:focus,
    &:checked:focus {
        box-shadow: 0 0 0 @spacing4 fade(@input-warning-border,25%);
    }
}
.d-checkbox--error {
    border-color: @input-error-border;

    &:focus,
    &:checked:focus {
        box-shadow: 0 0 0 @spacing4 fade(@input-error-border,25%);
    }
}
.d-checkbox--success {
    border-color: @input-success-border;

    &:focus,
    &:checked:focus {
        box-shadow: 0 0 0 @spacing4 fade(@input-success-border,25%);
    }
}


//  ============================================================================
//  @   RADIOS
//  ----------------------------------------------------------------------------
.d-radio {
    @supports ((-webkit-appearance: none) or (-moz-appearance: none) or (appearance: none)) {
        .d-border-radius--circle();

        &:checked {
            border-width: .15rem;
            box-shadow: inset 0 0 0 0.2rem @white;
            .d-background-color--blue();
        }
    }
}

//  @@  VALIDATION STATES
//  ----------------------------------------------------------------------------
.d-radio--warning {
    border-color: @input-warning-border;

    &:focus,
    &:checked:focus {
        box-shadow: 0 0 0 @spacing4 fade(@input-warning-border,25%);
    }
}
.d-radio--error {
    border-color: @input-error-border;

    &:focus,
    &:checked:focus {
        box-shadow: 0 0 0 @spacing4 fade(@input-error-border,25%);
    }
}
.d-radio--success {
    border-color: @input-success-border;

    &:focus,
    &:checked:focus {
        box-shadow: 0 0 0 @spacing4 fade(@input-success-border,25%);
    }
}
